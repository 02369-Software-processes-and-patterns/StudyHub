#!/bin/sh
 
# Get the current branch
branch=$(git rev-parse --abbrev-ref HEAD)
 
# Check if we're trying to push to main branch
if [ "$branch" = "main" ]; then
  echo "ðŸš« Direct pushes to main branch are not allowed!"
  echo "Please create a feature branch and submit a pull request."
  echo ""
  echo "If you're trying to push to a different branch:"
  echo "  git checkout -b feature/your-feature-name"
  echo "  git push -u origin feature/your-feature-name"
  echo ""
  echo "If this is an emergency and you need to override this protection:"
  echo "  git push --no-verify origin main"
  echo "  (Use with caution and only in emergency situations)"
  echo ""
  exit 1
fi
 
# If we're not on main, allow the push
exit 0